# 세션 기반 인증방식 vs 토큰 기반 인증방식

로그인은 세션 기반 인증방식과 토큰 기반 인증방식으로 구분된다. 

**세션 기반 인증방식** : 서버 측에서 관리하는 세션 ID를 통해 인증

1. 클라이언트에서 로그인 요청
2. 서버 측에서 세션 ID가 생성됨
3. 세션 ID를 HTTP Header - Cookie에 넣어서 반환 및 저장소에 세션 ID 저장
4. 그 후 클라이언트에서 서버에 요청을 보낼 때 해당 세션 ID를 HTTP Header - Cookie에 담아 전송  

* **장점** : 서버에 저장하기 때문에 관리가 매우 편하고 효율적

* **단점** : 서버에서 관리하기 때문에 세션 저장소를 따로 마련해야 하는데 트래픽이 몰리면 그에 따른 오버헤드 발생

* **참고** : 보통 세션을 다루는 라이브러리는 세션 ID를 생성하면 쿠키에 해당 값이 설정된다. 물론 쿠키가 아닌 로컬 스토리지 또는 세션 스토리지에 담을 수 있지만 보통 쿠키에 담는 것이 관례이며 일반적이다. 

</br>

**토큰 기반 인증방식** : 토큰 주로 JWT 토큰을 통해 인증

1. 클라이언트에서 로그인 요청
2. 서버 측에서 access 토큰, refresh 토큰 생성
3. refresh 토큰은 서버 쪽의 별도의 저장소(ex : db)에 저장 후 클라이언트에게 access 토큰, refresh 토큰 반환
3. 사용자가 이후 인가 요청 시마다 access 토큰, refresh 토큰 전송


* **장점** : 사용자 인증에 필요한 모든 정보는 토큰 자체에 포함되기 때문에 별도의 인증 저장소가 필요 없음

* **단점** : 토큰이 탈취당할 경우 디코딩했을 때 데이터 열람 가능

* **참고** : 토큰을 프론트엔드에서 어디에 저장할지가 이슈인데 https 사용 시 보통 refresh 토큰만 쿠키에 저장하고 access token은 프로그램(ex : JS)의 로컬 변수에 담는다고 한다. access token 같은 경우 Header - Authorization으로 전송하는 편이라고 한다.
</br>
